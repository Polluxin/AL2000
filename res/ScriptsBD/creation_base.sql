create table LesFilms
(
    idFilm int generated by default on null as identity primary key,
    titre char(100),
    dateFilm date,
    realisateur char(100),
    duree char(50),
    genre char(25)
)
/

create table LesMachines
(
    idMachine int primary key,
    pos char(100)
)
/

create table LesBluRays
(
    idBluRay int primary key,
    idFilm int,
    idMachine int,

    constraint blurays_fk_idFilms
        foreign key (idFilm)
            references LesFilms(idFilm),

    constraint blurays_fk_idMachine
        foreign key (idMachine)
            references LesMachines(idMachine)
)
/

create table LesLocations
(
    idLocation int generated by default on null as identity primary key,
    dateLocation date,
    etat char(25),
    carte int,
    formatLocation int,
    idMachine int,
    idFilm,

    constraint locations_fk_idFilms
        foreign key (idFilm)
            references LesFilms(idFilm),

    constraint locations_fk_idMachine
        foreign key (idMachine)
            references LesMachines(idMachine)
)
/

create table LesCartesBancaires
(
    idCB int primary key,
    informations char(200)
)
/

create table LesCartesAbonnes
(
    idAbo int primary key,
    nom char(25),
    prenom char(25),
    mail char(25),
    adressePostale char(100),
    solde float,
    mdp char(50)
)
/

create table LesInterdits
(
    idAbo int primary key,
    genre char(25)
)
/

create table LesTechniciens
(
    id int primary key,
    nom char(25),
    prenom char(25)
)
/

create table LesStatistiques
(
    idMachine int,
    dateStat date,
    donnees varchar(1000),

    constraint statistiques_fk_idMachine
        foreign key (idMachine)
            references LesMachines(idMachine)
)
/